# 迷你推荐系统架构文档

## 系统概述

本系统是一个迷你推荐系统，主要功能包括内容展示、用户交互、行为追踪和个性化推荐。系统采用前后端分离架构，前端使用React，后端使用FastAPI，数据库使用MySQL。

## 系统架构

### 前端架构

前端采用React框架，使用Redux进行状态管理，主要模块包括：

- **页面组件**：包括首页、详情页、用户中心等
- **状态管理**：使用Redux管理全局状态
- **API服务**：封装与后端的通信
- **埋点SDK**：用于用户行为追踪

### 后端架构

后端采用FastAPI框架，主要模块包括：

- **API路由**：处理前端请求
- **数据模型**：定义数据库表结构
- **业务逻辑**：实现核心功能
- **推荐服务**：提供个性化推荐

### 数据库架构

数据库使用MySQL，主要表结构包括：

- **users**：用户信息表
- **posts**：内容信息表
- **events**：用户行为表
- **features**：特征表
- **likes**：点赞表
- **favorites**：收藏表

## 核心功能模块

### 用户模块

- 用户信息管理
- 用户偏好设置

### 内容模块

- 内容展示
- 内容详情
- 内容搜索

### 交互模块

- 浏览记录
- 点赞功能
- 收藏功能

### 推荐模块

- 基于用户的推荐
- 基于内容的推荐
- 热门推荐

### 数据分析模块

- 用户行为分析
- 内容热度分析

## 数据流

1. 用户在前端浏览内容
2. 前端记录用户行为并上报到后端
3. 后端存储用户行为数据
4. 推荐服务基于用户行为生成推荐结果
5. 前端展示推荐内容

## 技术栈

### 前端

- React
- Redux
- Ant Design
- Axios

### 后端

- Python
- FastAPI
- SQLAlchemy
- Pydantic

### 数据库

- MySQL

## 部署架构

系统采用Docker容器化部署，包括：

- 前端容器
- 后端容器
- 数据库容器

## 最近更新

### 点赞和收藏功能

新增了点赞和收藏功能，包括：

1. 后端新增likes和favorites表，用于存储用户的点赞和收藏记录
2. 后端实现点赞和收藏的API接口，包括创建、删除、查询等操作
3. 前端实现点赞和收藏的UI交互，包括按钮状态变化、计数更新等
4. 前端实现用户中心的点赞列表和收藏列表展示

这些功能增强了用户与内容的互动体验，同时为推荐系统提供了更多的用户偏好信号。